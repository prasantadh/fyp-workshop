<html>
<head>
    <link href="styles.css" rel="stylesheet" />
    <script type="text/javascript">
      async function signin() {
        const data = await fetch("http://127.0.0.1:5000/users", 
          {
            method: "POST", 
            body: JSON.stringify({
              "username": this["signin_form"]["username"].value,
              "password": this["signin_form"]["password"].value,
            }),
            headers: {
              "Content-Type": "application/json"
            }
          }
        ).then(response => response.json());
        if (data.status == "success") {
          document.getElementById('error').innerHTML = "there are no errors";
          window.location.replace('http://localhost:8000/index.html');
        } else {
          document.getElementById('error').innerHTML = data.data;
        }
        console.log(data.status)
      }
    </script>
</head>
  <body>
    <div class="container min-h-screen flex flex-col md:flex-row">

      <div class="hidden md:block w-1/2 bg-gradient-to-br from-blue-500 to-purple-700 px-20">
          <div class="h-[10%]"></div>
          <div class="text-gray-50 text-5xl font-bold">FYP</div>
          <div class="h-[10%]"></div>
          <div class="text-gray-50 text-5xl font-bold">Hey There!</div>
          <div class="h-[2%]"></div>
          <div class="text-gray-50 text-5xl font-bold">Good to see you...</div>
          <div class="h-[30%]"></div>
          <div class="text-gray-50 text-lg">Don't have an account?</div>
          <div class="h-[2%]"></div>
          <div class="container">
            <button type="" class="bg-purple-700 text-gray-50 w-64 rounded-full text-xl py-3"> Sign Up</button>
          </div>
      </div>

      <div class="container w-full md:w-1/2 grid place-content-center">
        <div id="error" class="text-red-500"></div>
        <div class="form">
          <form name="signin_form" action="javascript:signin()">
            <div class="py-1">
              <label for="username" class="font-bold">USERNAME</label>
            </div>
            <div>
              <input type="text" id="username" name="username" class="border border-gray-400 rounded-full py-2 px-4 w-64" autofocus="true"/>
            </div>
            <div class="py-1">
              <label for="password" class="font-bold">PASSWORD</label>
            </div>
            <div class="grid place-content-center">
              <input type="password" id="password" name="password" class="border border-gray-400 rounded-full py-2 px-4 w-64"/>
            </div>
            <div class="py-3 grid place-content-center">
              <input type="submit" class="w-32 bg-blue-600 py-2 rounded-full text-gray-50" value="Log In" />
            </div>
          </form>
        </div>
      </div>

    </div>
  </body>
</html>
